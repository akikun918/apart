<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>a</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
	<div class="container">
		<div class="row">
			<div class=" col-12 col-xl-10  m-auto">
				<nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top">
					<div class="container">
						<h1>
							<a class="navbar-brand" th:href="@{/}">B HOME'S</a>
						</h1>
						<button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#menu">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="menu">
							<ul class="navbar-nav">
								<li class="nav-item"><a th:href="@{/}" class="nav-link active">Home</a></li>
								<li class="nav-item"><a th:href="@{/rent/favoriteShow}" class="nav-link">お気に入り</a></li>
								<li class="nav-item"><a class="nav-link">会社概要</a>
									<!-- <a th:href="@{/mainta}" class="nav-link">会社概要</a> --></li>
								<li class="nav-item"><a th:href="@{/auth/register}" class="nav-link">会員登録</a></li>
								<li class="nav-item"><a th:href="@{/auth/login}" class="nav-link">ログイン</a></li>
							</ul>
						</div>
					</div>
				</nav>

				<div class="container   text-center">
					<header class="py-3">
						<h2 th:if="${session.address1List != null }">
							<th:block th:each="address1 : ${session.address1List} ">
								[[*{address1}]]
							</th:block>
							区の賃貸
						</h2>
						<h2 th:if="${session.stationList != null }">
							<th:block th:each="station : ${session.stationList }">
								[[*{station}]]駅
							</th:block>
							周辺の賃貸
						</h2>
						<p>
							<a th:href="@{/rent}">変更する</a>
						</p>
					</header>
				</div>




				<div class="container my-4">
					<main>
						<div class="row">
							<div class="col-3">
								<form th:action="@{/rent/filteredShow}" th:object="${all}">
									<input type="hidden" name="pressForm" value="1234">
									<fieldset>
										<legend>
											<h3>検索条件</h3>
										</legend>
										<fieldset>
											<legend> 賃料 </legend>
											<select th:field="*{apartFilter.rentB}">
												<option th:value="0">下限なし</option>
												<option th:value="30000">3.0万円</option>
												<option th:value="35000">3.5万円</option>
												<option th:value="40000">4.0万円</option>
												<option th:value="45000">4.5万円</option>
												<option th:value="50000">5.0万円</option>
												<option th:value="55000">5.5万円</option>
												<option th:value="60000">6.0万円</option>
												<option th:value="65000">6.5万円</option>
												<option th:value="70000">7.0万円</option>
												<option th:value="75000">7.5万円</option>
												<option th:value="80000">8.0万円</option>
												<option th:value="85000">8.5万円</option>
												<option th:value="90000">9.0万円</option>
												<option th:value="95000">9.5万円</option>
												<option th:value="100000">10万円</option>
												<option th:value="110000">11万円</option>
												<option th:value="120000">12万円</option>
												<option th:value="130000">13万円</option>
												<option th:value="140000">14万円</option>
												<option th:value="150000">15万円</option>
												<option th:value="160000">16万円</option>
												<option th:value="170000">17万円</option>
												<option th:value="180000">18万円</option>
												<option th:value="190000">19万円</option>
												<option th:value="200000">20万円</option>
											</select> ～ <select th:field="*{apartFilter.rentT}">
												<option th:value="9999999">上限なし</option>
												<option th:value="30000">3.0万円</option>
												<option th:value="35000">3.5万円</option>
												<option th:value="400000">4.0万円</option>
												<option th:value="45000">4.5万円</option>
												<option th:value="500000">5.0万円</option>
												<option th:value="55000">5.5万円</option>
												<option th:value="60000">6.0万円</option>
												<option th:value="65000">6.5万円</option>
												<option th:value="70000">7.0万円</option>
												<option th:value="75000">7.5万円</option>
												<option th:value="80000">8.0万円</option>
												<option th:value="85000">8.5万円</option>
												<option th:value="90000">9.0万円</option>
												<option th:value="95000">9.5万円</option>
												<option th:value="100000">10万円</option>
												<option th:value="110000">11万円</option>
												<option th:value="120000">12万円</option>
												<option th:value="130000">13万円</option>
												<option th:value="140000">14万円</option>
												<option th:value="150000">15万円</option>
												<option th:value="160000">16万円</option>
												<option th:value="170000">17万円</option>
												<option th:value="180000">18万円</option>
												<option th:value="190000">19万円</option>
												<option th:value="200000">20万円</option>
											</select>
											<ul class="checkList">
												<!--						<li><label><input type="checkbox" name="deposit" value="0" />礼金なし</label></li>-->
												<li><label><input type="checkbox" th:field="*{apartFilter.deposit}"
															th:value="0" />礼金なし</label></li>
												<!--						<li><label><input type="checkbox" name="keyMoney" value="0" />敷金なし</label></li>-->
												<li><label><input type="checkbox" th:field="*{apartFilter.keyMoney}"
															th:value="0" />敷金なし</label></li>
											</ul>
										</fieldset>
										<fieldset>
											<legend> 広さ </legend>
											<select th:field="*{apartFilter.sizeB}">
												<option th:value="0">下限なし</option>
												<option th:value="5">5畳</option>
												<option th:value="6">6畳</option>
												<option th:value="7">7畳</option>
												<option th:value="8">8畳</option>
												<option th:value="9">9畳</option>
												<option th:value="10">10畳</option>
												<option th:value="11">11畳</option>
												<option th:value="12">12畳</option>
												<option th:value="13">13畳</option>
												<option th:value="14">14畳</option>
												<option th:value="15">15畳</option>
											</select> ～ <select th:field="*{apartFilter.sizeT}">
												<option th:value="99">上限なし</option>
												<option th:value="5">5畳</option>
												<option th:value="6">6畳</option>
												<option th:value="7">7畳</option>
												<option th:value="8">8畳</option>
												<option th:value="9">9畳</option>
												<option th:value="10">10畳</option>
												<option th:value="11">11畳</option>
												<option th:value="12">12畳</option>
												<option th:value="13">13畳</option>
												<option th:value="14">14畳</option>
												<option th:value="15">15畳</option>
												<option th:value="16">16畳</option>
												<option th:value="17">17畳</option>
											</select>
										</fieldset>
										<!-- 		<fieldset id="prg-madoriChoice">
					<legend>
						<span>間取り</span>
					</legend>

					<ul class="checkList multi">
						<li><label><input type="checkbox" id="cond_madori_11"
								name="cond[madori][11]" value="11" />ワンルーム</label></li>
						<li><label><input type="checkbox" id="cond_madori_12"
								name="cond[madori][12]" value="12" />1K</label></li>
						<li><label><input type="checkbox" id="cond_madori_13"
								name="cond[madori][13]" value="13" />1DK</label></li>
						<li><label><input type="checkbox" id="cond_madori_15"
								name="cond[madori][15]" value="15" />1LDK</label></li>
						<li><label><input type="checkbox" id="cond_madori_22"
								name="cond[madori][22]" value="22" />2K</label></li>
						<li><label><input type="checkbox" id="cond_madori_23"
								name="cond[madori][23]" value="23" />2DK</label></li>
						<li><label><input type="checkbox" id="cond_madori_25"
								name="cond[madori][25]" value="25" />2LDK</label></li>
						<li><label><input type="checkbox" id="cond_madori_32"
								name="cond[madori][32]" value="32" />3K</label></li>
						<li><label><input type="checkbox" id="cond_madori_33"
								name="cond[madori][33]" value="33" />3DK</label></li>
						<li><label><input type="checkbox" id="cond_madori_35"
								name="cond[madori][35]" value="35" />3LDK</label></li>
						<li><label><input type="checkbox" id="cond_madori_42"
								name="cond[madori][42]" value="42" />4K</label></li>
						<li><label><input type="checkbox" id="cond_madori_43"
								name="cond[madori][43]" value="43" />4DK</label></li>
						<li><label><input type="checkbox"
								id="cond_madori_45-" name="cond[madori][45-]" value="45-" />4LDK以上</label></li>
					</ul>
				</fieldset>
 -->

										<fieldset>
											<legend> 駅徒歩分 </legend>


											<select th:field="*{apart.far1}">
												<option th:value="100" class="selected" selected="selected">指定なし
												</option>
												<option th:value="1">1分以内</option>
												<option th:value="5">5分以内</option>
												<option th:value="7">7分以内</option>
												<option th:value="10">10分以内</option>
												<option th:value="15">15分以内</option>
												<option th:value="20">20分以内</option>
											</select>
											<!-- 				<p class="checkList option">
						<label for="cond_bustime"><input type="checkbox"
							id="cond_bustime" name="cond[bustime]" value="1" />バス乗車時間含む</label>
					</p> -->
										</fieldset>

										<!-- 		<fieldset id="prg-transitField" class="prg-transitSelect">
					<legend>
						<span>通勤・通学駅までの所要時間</span>
					</legend>
					<p class="changeTransit">
						<a href="javascript:void(0);" id="transit-set-change"
							role="button" data-controller="button"
							data-action="keydown->button#keyboardClick">通勤・通学時間の設定</a>
					</p>
				</fieldset> -->

										<!-- 		<fieldset id="prg-chikunenSelect">
					<legend>
						<span>築年数</span>
					</legend>

					<div class="selectList wide">
						<span><select id="cond_houseageh" name="cond[houseageh]"><option
									value="0" class="selected" selected="selected">指定なし</option>
								<option value="1">新築</option>
								<option value="3">3年以内</option>
								<option value="5">5年以内</option>
								<option value="10">10年以内</option>
								<option value="15">15年以内</option>
								<option value="20">20年以内</option>
								<option value="25">25年以内</option>
								<option value="30">30年以内</option></select></span>
					</div>
				</fieldset> -->

										<fieldset>
											<legend> 建物構造 </legend>
											<ul>
												<li><label><input type="checkbox" th:field="*{apartFilter.materialList}"
															th:value="鉄筋" />鉄筋系</label></li>
												<li><label><input type="checkbox" th:field="*{apartFilter.materialList}"
															th:value="木造" />木造系</label></li>
												<li><label><input type="checkbox" th:field="*{apartFilter.materialList}"
															th:value="ブロック" />ブロック系</label></li>

												<!-- <li><label><input type="checkbox"
								id="cond_housekouzougroup_blockother"
								name="cond[housekouzougroup][blockother]" value="blockother" />ブロック・その他</label></li> -->
											</ul>
										</fieldset>
										<fieldset>
											<legend> フリーワード検索 </legend>
											<input type="text" th:field="*{apartFilter.free}" />
										</fieldset>
									</fieldset>
									<input type="submit" />
								</form>
							</div>
							<!-- /.col -->


							<div class="col-9 ">
								<th:block th:if=" ${filteredAlls.isEmpty }">
									<h3 class="w-75 text-center">
										該当するお部屋がありません<br>
										条件を変更してください
									</h3>

								</th:block>
								<th:block th:each="filteredAll : ${filteredAlls}" th:object="${filteredAll}">



									<th:block th:each="room : *{roomList}">
										<div class="row  mt-5">
											<!--<img th:each="image : *{imageList}"
										th:src="@{/uploads/{name}(name=${image.imgName})}" alt="" width="100"
										height="100" />-->




											<div class="col-4">
												<img class=" w-100" th:src="@{/uploads/{name}(name=*{apart.imgName})}"
													alt="" width="180" height="180" />
											</div>
											<!-- /.col -->
											<div class="col-8">


												<h3>
													<a th:href="@{/rent/detail(id=${room.id})}"
														target="_blank">[[*{apart.name}]]
														[[${room.number}]]号室</a>
												</h3>
												<div class="row">
													<div class="col-5">
														<p>[[*{apart.address1}]]</p>
													</div>
													<!-- /.col -->
													<div class="col-5">
														<div style="font-weight: bold">
															[[*{apart.station1}]] 駅 徒歩[[*{apart.far1}]]分</div>
														<div th:if="*{not #strings.isEmpty(apart.station2)}">
															[[*{apart.station2}]] 駅 徒歩[[*{apart.far2}]]分</div>
														<div th:if="*{not #strings.isEmpty(apart.station3)}">
															[[*{apart.station3}]] 駅 徒歩[[*{apart.far3}]]分</div>
													</div>
													<!-- /.col -->
													<div class="col-2">

														<p>築[[*{old}]]年</p>

													</div>
													<!-- /.col -->
													<!--<div class="col-2">

														<p>[[*{apart.point}]]</p>

													</div> /.col -->

												</div>
												<!-- /.row -->
											</div>
											<!-- /.col -->
											<div class="col-12">



												<table class="table">
													<thead>
														<tr class="table-secondary">
															<th>階</th>
															<th>賃料/管理費</th>
															<th>敷金/礼金</th>
															<th>広さ</th>
															<th>特徴</th>
															<!-- 	<th>お気に入り</th> -->
															<th>&nbsp;</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>[[${room.floor}]]階</td>
															<td>[[${#numbers.formatInteger(room.price, 3,
																'COMMA')}]]円</td>
															<td>
																<th:block th:if="${room.deposit == 0}">無料</th:block>

																<div th:unless="${room.deposit == 0}">
																	[[${#numbers.formatInteger(room.deposit, 3,
																	'COMMA')}]]円</div>

																<div th:if="${room.keyMoney == 0}">無料</div>
																<div th:unless="${room.keyMoney == 0}">
																	[[${#numbers.formatInteger(room.keyMoney, 3,
																	'COMMA')}]]円</div>
															</td>
															<td>[[${room.size}]]畳</td>

															<td>
																<div>[[*{apart.point}]]</div>
																<div>[[${room.point}]]</div>
															</td>
															<!-- 	<td><a href="">追加</a></td> -->
															<td>
																<div>
																	<a th:href="@{/rent/detail(id=${room.id}) }"
																		target="_blank">詳細を見る</a>
																</div>
																<!-- 			<a th:href="@{/rent/detail/{id}(id=*{id})}">詳細を見る</a> -->
																<div>
																	<a th:href="@{/rent/inquiry(id=${room.id})}"
																		target="_blank">お問い合わせ</a>
																</div>
															</td>

														</tr>

													</tbody>
												</table>




											</div>
											<!-- /.col -->

										</div>
										<!-- /.row -->
									</th:block>


								</th:block>


								<div class="col-12  m-auto">
									<div th:if="${session.keySet().contains('address1List')  }">
										<div th:unless="${session.keySet().contains('all') }">

											<div th:if="${totalPage >= 2}">
												<ul class="pagination">
													<!-- 前のページリンク -->
													<th:block th:switch="${page}">
														<li class="page-item" th:case="1"><a href=""
																class="noevent page-link">前ページ</a></li>

														<li class="page-item" th:case="*"><a class="page-link"
																th:href="@{/rent/areaShow(page=${page-1})}">前ページ</a>
														</li>

													</th:block>

													<!-- ページ番号 -->
													<th:block th:each="index : ${#numbers.sequence(1, totalPage)}">
														<th:block th:switch="${index}">
															<li class="page-item" th:case="${page}"><a href=""
																	class="noevent page-link">[[${index}]]</a></li>
															<li class="page-item" th:case="*"><a class="page-link"
																	th:href="@{/rent/areaShow(page=${index})}">[[${index}]]</a>
															</li>
														</th:block>
													</th:block>

													<!-- 次のページリンク -->
													<th:block th:switch="${page}">
														<li th:case="${totalPage}"><a href=""
																class="noevent page-link">次ページ</a></li>
														<li th:case="*"><a class=" page-link"
																th:href="@{/rent/areaShow(page=${page+1})}">次ページ</a>
														</li>
													</th:block>
												</ul>
											</div>
										</div>
									</div>

									<div th:if="${session.keySet().contains('stationList') }">
										<div th:unless="${session.keySet().contains('all') }">
											<div th:if="${totalPage >= 2}">
												<ul class="pagination">
													<!-- 前のページリンク -->
													<th:block th:switch="${page}">
														<li class="page-item" th:case="1"><a href=""
																class="noevent page-link">前ページ</a></li>

														<li class="page-item" th:case="*"><a class="page-link"
																th:href="@{/rent/stationShow(page=${page-1})}">前ページ</a>
														</li>

													</th:block>

													<!-- ページ番号 -->
													<th:block th:each="index : ${#numbers.sequence(1, totalPage)}">
														<th:block th:switch="${index}">
															<li class="page-item" th:case="${page}"><a href=""
																	class="noevent page-link">[[${index}]]</a></li>
															<li class="page-item" th:case="*"><a class="page-link"
																	th:href="@{/rent/stationShow(page=${index})}">[[${index}]]</a>
															</li>


														</th:block>
													</th:block>

													<!-- 次のページリンク -->
													<th:block th:switch="${page}">
														<li class="page-item"  th:case="${totalPage}"><a href="" class="noevent page-link">次ページ</a>
														</li>
														<li class="page-item"  th:case="*"><a class="page-link"
																th:href="@{/rent/stationShow(page=${page+1})}">次ページ</a>
														</li>
													</th:block>
												</ul>
											</div>
										</div>
									</div>
									<div th:if="${session.keySet().contains('all')  }">
										<div th:if="${totalPage >= 2}">
											<ul class="pagination">
												<!-- 前のページリンク -->
												<th:block th:switch="${page}">
													<li  th:case="1"><a href="" class="noevent page-link">前ページ</a></li >
													<li  class="page-item" th:case="*"><a class="page-link"
															th:href="@{/rent/filteredShow(page=${page-1})}">前ページ</a>
													</li>
												</th:block>

												<!-- ページ番号 -->
												<th:block th:each="index : ${#numbers.sequence(1, totalPage)}">
													<th:block th:switch="${index}">
														<li  class="page-item" th:case="${page}"><a href=""
																class="noevent page-link">[[${index}]]</a>
														</li>
														<li  class="page-item" th:case="*"><a class="page-link"
																th:href="@{/rent/filteredShow(page=${index})}">[[${index}]]</a>
														</li>
													</th:block>
												</th:block>
												<!-- 次のページリンク -->
												<th:block th:switch="${page}">
													<li  class="page-item" th:case="${totalPage}"><a href="" class="noevent page-link">次ページ</a></li>
													<li  class="page-item" th:case="*"><a class="page-link"
															th:href="@{/rent/filteredShow(page=${page+1})}">次ページ</a>
													</li>
												</th:block>
											</ul>
										</div>
									</div>
								</div>
								<!-- /.col -->
							</div>
							<!-- /.col -->
						</div>
						<!-- /.row -->
					</main>
				</div>
				<!-- /.container -->
				<div class="container-fluid bg-dark text-light text-center  pt-4 pb-2">
					<footer th:replace="~{parts/common :: page_footer}"></footer>
				</div>
				<!-- /.container my-4" -->
			</div>
			<!-- /.col -->
		</div>
		<!-- /.row -->
	</div>
	<script src="@{/js/bootstrap.bundle.min.js}"></script>

</body>

</html>